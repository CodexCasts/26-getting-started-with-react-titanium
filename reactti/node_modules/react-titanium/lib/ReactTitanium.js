'use strict';

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.render = render;

var _invariant = require('invariant');

var _invariant2 = _interopRequireDefault(_invariant);

var _reactLibInstantiateReactComponent = require('react/lib/instantiateReactComponent');

var _reactLibInstantiateReactComponent2 = _interopRequireDefault(_reactLibInstantiateReactComponent);

var _reactLibReactElement = require('react/lib/ReactElement');

var _reactLibReactElement2 = _interopRequireDefault(_reactLibReactElement);

var _reactLibReactInstanceHandles = require('react/lib/ReactInstanceHandles');

var _reactLibReactInstanceHandles2 = _interopRequireDefault(_reactLibReactInstanceHandles);

var _reactLibReactUpdates = require('react/lib/ReactUpdates');

var _reactLibReactUpdates2 = _interopRequireDefault(_reactLibReactUpdates);

var _ReactTitaniumInjection = require('./ReactTitaniumInjection');

var _ReactTitaniumInjection2 = _interopRequireDefault(_ReactTitaniumInjection);

(0, _ReactTitaniumInjection2['default'])();

var _ReactTitaniumBridge = require('./ReactTitaniumBridge');

Object.defineProperty(exports, 'registerElement', {
  enumerable: true,
  get: function get() {
    return _ReactTitaniumBridge.register;
  }
});

function render(element) {
  (0, _invariant2['default'])(_reactLibReactElement2['default'].isValidElement(element), 'render(): You must pass a valid ReactElement.');

  var id = _reactLibReactInstanceHandles2['default'].createReactRootID();
  var transaction = _reactLibReactUpdates2['default'].ReactReconcileTransaction.getPooled();
  var component = (0, _reactLibInstantiateReactComponent2['default'])(element);

  transaction.perform(function () {
    component.mountComponent(id, transaction, {});
  });

  return component;
}